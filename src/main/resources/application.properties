# ===============================
# App Configuration
# ===============================
spring.application.name=athang-backend
server.port=8083
server.servlet.context-path=/api/v1

# ===============================
# Data Source (MySQL)
# ===============================
spring.datasource.url=jdbc:mysql://localhost:3306/athang_db
spring.datasource.username=root
spring.datasource.password=Noko@2025

# ===============================
# JPA / Hibernate / HikariCP
# ===============================
spring.jpa.hibernate.ddl-auto=update
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.maximum-pool-size=2

# ========== RMA PG Configuration ==========
beneficiary.benf_id=BE10000221
beneficiary.rma_api_url=http://uatbfssecure.rma.org.bt:8080/BFSSecure/nvpapi

# ========== Key Configuration ==========
# Refers to src/main/resources/pki/your_key.pem
keys.private-path=classpath:pki/BE10000221.key

# ===============================
# Email Configuration (Gmail SMTP)
# ===============================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=stenzin@rma.org.bt
spring.mail.password=gobj rhci mpdt uvht
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# ===============================
# JWT Configuration
# ===============================
jwt.secret=5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437
jwt.expiration=780000

# ===============================
# Account Activation URL
# ===============================
spring.security.mailing.frontend.activation-url=http://localhost:4200/activate-account

# ===============================
# OAuth2 Client (PKCE) Configuration
# ===============================
spring.security.oauth2.client.registration.my-idp.client-id=payment
spring.security.oauth2.client.registration.my-idp.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.my-idp.client-authentication-method=none
spring.security.oauth2.client.registration.my-idp.redirect-uri=http://localhost:8083/api/v1/login/oauth2/code/my-idp
spring.security.oauth2.client.registration.my-idp.scope=profile,email

spring.security.oauth2.client.provider.my-idp.issuer-uri=https://demo-sso-api.flyweightsoft.com
spring.security.oauth2.client.provider.my-idp.authorization-uri=https://demo-sso-api.flyweightsoft.com/protocol/openid-connect/auth
spring.security.oauth2.client.provider.my-idp.token-uri=https://demo-sso-api.flyweightsoft.com/protocol/openid-connect/token
spring.security.oauth2.client.provider.my-idp.user-info-uri=https://demo-sso-api.flyweightsoft.com/protocol/openid-connect/userinfo
spring.security.oauth2.client.provider.my-idp.jwk-set-uri=https://demo-sso-api.flyweightsoft.com/.well-known/jwks.json
spring.security.oauth2.client.provider.my-idp.user-name-attribute=email

# ===============================
# Logging for OAuth2 Debug
# ===============================
logging.level.org.springframework.security.oauth2.client=DEBUG
logging.level.org.springframework.security.web.authentication=DEBUG
